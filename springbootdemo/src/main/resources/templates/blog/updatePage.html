<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>修改用户</title>

    <link href="../../static/css/bootstrap.min.css" rel="stylesheet">
    <link href="../../static/css/font-awesome.css" rel="stylesheet">
    <link href="../../static/css/plugins/iCheck/custom.css" rel="stylesheet">
    <link href="../../static/css/animate.css" rel="stylesheet">
    <link href="../../static/css/style.css" rel="stylesheet">
    <link href="../../static/css/plugins/markdown/bootstrap-markdown.min.css" rel="stylesheet">

</head>
<body>
<div class="row">
    <div class="ibox float-e-margins">
        <div class="ibox-title">
            <h5>修改文章</h5>
            <div class="ibox-tools">
                <a class="collapse-link">
                    <i class="fa fa-chevron-up"></i>
                </a>
                <a class="dropdown-toggle" data-toggle="dropdown">
                    <i class="fa fa-wrench"></i>
                </a>
                <ul class="dropdown-menu dropdown-user">
                    <li><a href="form_basic.html#">选项1</a>
                    </li>
                    <li><a href="form_basic.html#">选项2</a>
                    </li>
                </ul>
                <a class="close-link">
                    <i class="fa fa-times"></i>
                </a>
            </div>
        </div>
        <div class="ibox-content">

            <form id="blogInfo" action="/update" method="post" th:object="${selectbyid}" class="form-horizontal">

                <div class="form-group">
                    <label class="col-sm-1 control-label">文章编号: </label>
                    <div class="col-sm-10">
                        <input type="text" name="id" class="form-control" readonly="readonly" th:value="*{id}" required> </span>
                    </div>
                </div>

                <!--分割线-->
                <div class="hr-line-dashed"></div>

                <div class="form-group">
                    <label class="col-sm-1 control-label">文章标题</label>
                    <div class="col-sm-10">
                        <input type="text" name="name" class="form-control" th:value="*{name}"></span>
                    </div>
                </div>

                <!--分割线-->
                <div class="hr-line-dashed"></div>

                <div class="form-group">
                    <label class="col-sm-1 control-label">文章摘要</label>
                    <div class="col-sm-10">
                        <input type="text" name="summary" class="form-control" th:value="*{summary}"><span class="help-block m-b-none">描述你的文章摘要</span>
                    </div>
                </div>

                <!--分割线-->
                <div class="hr-line-dashed"></div>

                <div class="form-group">
                    <label class="col-sm-1 control-label">文章内容</label>
                    <div class="col-sm-10">
                        <textarea id="content" type="text" name="detail"  class="form-control" data-provide="markdown" th:text="*{detail}"></textarea>
                    </div>
                </div>

                <!--分割线-->
                <div class="hr-line-dashed"></div>


                <div class="col-sm-4 col-sm-offset-2">
                    <button id="save" class="btn btn-primary" type="submit" onclick="saveFunction()">保存并关闭</button>
                    <button class="btn btn-red" onclick="back()">取消</button>
                </div>

            </form>
        </div>
    </div>
    <!--<body onbeforeunload="return CheckUnsave();">&lt;!&ndash;一定要加return&ndash;&gt;-->
</div>


<!--全局js-->
<script src="../../static/js/jquery.min.js"></script>
<script src="../../static/js/plugins/validate/jquery.validate.min.js"></script>
<script src="../../static/js/bootstrap.min.js"></script>
<script src="../../static/js/plugins/markdown/markdown.js"></script>
<script src="../../static/js/plugins/markdown/bootstrap-markdown.js"></script>
<script src="../../static/js/plugins/markdown/bootstrap-markdown.zh.js"></script>
<script src="../../static/js/plugins/markdown/to-markdown.js"></script>

<!--自定义js-->
<script src="../../static/js/content.js"></script>

<!--iCheck-->
<script src="../../static/js/plugins/iCheck/icheck.min.js"></script>

<!--<script>-->
    <!--//在离开页面时判断是否有未保存的输入值-->
    <!--var hasSaved = false;//是否有输入的内容未保存标志，初始值为false-->
    <!--function CheckUnsave(){-->
        <!--if(hasSaved==false){-->
            <!--alert("您上传的东西尚未保存，请保存后再离开页面");-->
            <!--return false;}-->
<!--//return true; //不能加这个语句-->
    <!--}-->

    <!--//保存了则改变状态-->
    <!--function ChangeState()-->
    <!--{-->
        <!--hasSaved = true;-->
    <!--}-->
<!--</script>-->

<script>
    function  saveFunction(){
        alert("保存成功");
        window.location.href='/blog/blog';
    }
</script>

<script th:inline="javascript">
    $("#blogInfo").validate({
        rules:{
            id:{
                required:true
            },
            name:{
                required:true
            },
            password:{
                required:true
            },
            level:{
                required:true
            },
        },
        messages:{
            id:{
                maxlength:255,
            },
            name:{
                maxlength:255,
            },
            password:{
                maxlength:255,
            }
        },
        focusCleanup: true
    })

</script>

<script type="text/javascript">
    function back() {
        window.history.back();
    }
</script>

<script type="text/javascript">
    $("#content").markdown({autofocus:false,savable:false})
</script>

<!--<script >-->

    <!--function formSubmit(){-->
        <!--document.location.href="main.html";-->
    <!--}-->
<!--</script>-->

</body>
</html>
